<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Tue Nov 04 19:55:56 GMT 2014 -->
<title>StateHandler (Oddjob 1.4.0 API)</title>
<meta name="date" content="2014-11-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="StateHandler (Oddjob 1.4.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/oddjob/state/StateExchange.html" title="class in org.oddjob.state"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/oddjob/state/StateListener.html" title="interface in org.oddjob.state"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/oddjob/state/StateHandler.html" target="_top">Frames</a></li>
<li><a href="StateHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.oddjob.state</div>
<h2 title="Class StateHandler" class="title">Class StateHandler&lt;S extends <a href="../../../org/oddjob/state/State.html" title="interface in org.oddjob.state">State</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.oddjob.state.StateHandler&lt;S&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../org/oddjob/state/StateLock.html" title="interface in org.oddjob.state">StateLock</a>, <a href="../../../org/oddjob/Stateful.html" title="interface in org.oddjob">Stateful</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../org/oddjob/state/JobStateHandler.html" title="class in org.oddjob.state">JobStateHandler</a>, <a href="../../../org/oddjob/state/ParentStateHandler.html" title="class in org.oddjob.state">ParentStateHandler</a>, <a href="../../../org/oddjob/state/ServiceStateHandler.html" title="class in org.oddjob.state">ServiceStateHandler</a>, <a href="../../../org/oddjob/scheduling/state/TimerStateHandler.html" title="class in org.oddjob.scheduling.state">TimerStateHandler</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">StateHandler&lt;S extends <a href="../../../org/oddjob/state/State.html" title="interface in org.oddjob.state">State</a>&gt;</span>
extends <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../org/oddjob/Stateful.html" title="interface in org.oddjob">Stateful</a>, <a href="../../../org/oddjob/state/StateLock.html" title="interface in org.oddjob.state">StateLock</a></pre>
<div class="block">Helps Jobs handle state change.
 <p>
 Attempted to make <a href="../../../org/oddjob/state/StateHandler.html#waitToWhen(org.oddjob.state.StateCondition, java.lang.Runnable)"><code>waitToWhen(StateCondition, Runnable)</code></a> and
 {@link #tryToWhen(StateCondition, Runnable) both use timeouts. This 
 now required interrupt handling and the tryLock was intermittently 
 interrupted. The cause of this could not be found so attempting to 
 implement timeouts was abandoned for the time being.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Rob Gordon</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#StateHandler(org.oddjob.Stateful, S)">StateHandler</a></strong>(<a href="../../../org/oddjob/Stateful.html" title="interface in org.oddjob">Stateful</a>&nbsp;source,
            <a href="../../../org/oddjob/state/StateHandler.html" title="type parameter in StateHandler">S</a>&nbsp;readyState)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#addStateListener(org.oddjob.state.StateListener)">addStateListener</a></strong>(<a href="../../../org/oddjob/state/StateListener.html" title="interface in org.oddjob.state">StateListener</a>&nbsp;listener)</code>
<div class="block">Add a job state listener.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#assertAlive()">assertAlive</a></strong>()</code>
<div class="block">Convenience method to check the job hasn't been destroyed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#assertLockHeld()">assertLockHeld</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#callLocked(java.util.concurrent.Callable)">callLocked</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;T&gt;&nbsp;callable)</code>
<div class="block">Runs the Callable locked.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#fireEvent()">fireEvent</a></strong>()</code>
<div class="block">Fire the event, update last event.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/oddjob/state/State.html" title="interface in org.oddjob.state">State</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#getState()">getState</a></strong>()</code>
<div class="block">Return the current state of the job.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/oddjob/state/StateEvent.html" title="class in org.oddjob.state">StateEvent</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#lastStateEvent()">lastStateEvent</a></strong>()</code>
<div class="block">Get the last event.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#listenerCount()">listenerCount</a></strong>()</code>
<div class="block">The number of listeners.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#removeStateListener(org.oddjob.state.StateListener)">removeStateListener</a></strong>(<a href="../../../org/oddjob/state/StateListener.html" title="interface in org.oddjob.state">StateListener</a>&nbsp;listener)</code>
<div class="block">Remove a job state listener.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#restoreLastJobStateEvent(org.oddjob.state.StateEvent.SerializableNoSource)">restoreLastJobStateEvent</a></strong>(<a href="../../../org/oddjob/state/StateEvent.SerializableNoSource.html" title="class in org.oddjob.state">StateEvent.SerializableNoSource</a>&nbsp;savedEvent)</code>
<div class="block">Typically only called after restoring a jobstate handler after deserialisation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#setState(S)">setState</a></strong>(<a href="../../../org/oddjob/state/StateHandler.html" title="type parameter in StateHandler">S</a>&nbsp;state)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#setState(S, java.util.Date)">setState</a></strong>(<a href="../../../org/oddjob/state/StateHandler.html" title="type parameter in StateHandler">S</a>&nbsp;state,
        <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#setStateException(org.oddjob.state.State, java.lang.Throwable)">setStateException</a></strong>(<a href="../../../org/oddjob/state/State.html" title="interface in org.oddjob.state">State</a>&nbsp;state,
                 <a href="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;ex)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#setStateException(S, java.lang.Throwable, java.util.Date)">setStateException</a></strong>(<a href="../../../org/oddjob/state/StateHandler.html" title="type parameter in StateHandler">S</a>&nbsp;state,
                 <a href="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t,
                 <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#sleep(long)">sleep</a></strong>(long&nbsp;time)</code>
<div class="block">Sleep.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#toString()">toString</a></strong>()</code>
<div class="block">Override toString.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#tryToWhen(org.oddjob.state.StateCondition, java.lang.Runnable)">tryToWhen</a></strong>(<a href="../../../org/oddjob/state/StateCondition.html" title="interface in org.oddjob.state">StateCondition</a>&nbsp;when,
         <a href="http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;runnable)</code>
<div class="block">Try to acquire the lock, and then do something when the 
 condition is true.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#waitToWhen(org.oddjob.state.StateCondition, java.lang.Runnable)">waitToWhen</a></strong>(<a href="../../../org/oddjob/state/StateCondition.html" title="interface in org.oddjob.state">StateCondition</a>&nbsp;when,
          <a href="http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;runnable)</code>
<div class="block">Wait to do something when the condition is true.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/oddjob/state/StateHandler.html#wake()">wake</a></strong>()</code>
<div class="block">Wake any threads that are sleeping via <a href="../../../org/oddjob/state/StateHandler.html#sleep(long)"><code>sleep(long)</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StateHandler(org.oddjob.Stateful,org.oddjob.state.State)">
<!--   -->
</a><a name="StateHandler(org.oddjob.Stateful, S)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StateHandler</h4>
<pre>public&nbsp;StateHandler(<a href="../../../org/oddjob/Stateful.html" title="interface in org.oddjob">Stateful</a>&nbsp;source,
            <a href="../../../org/oddjob/state/StateHandler.html" title="type parameter in StateHandler">S</a>&nbsp;readyState)</pre>
<div class="block">Constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - The source for events.</dd><dd><code>readyState</code> - The ready state.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="lastStateEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastStateEvent</h4>
<pre>public&nbsp;<a href="../../../org/oddjob/state/StateEvent.html" title="class in org.oddjob.state">StateEvent</a>&nbsp;lastStateEvent()</pre>
<div class="block">Get the last event.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/oddjob/Stateful.html#lastStateEvent()">lastStateEvent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/oddjob/Stateful.html" title="interface in org.oddjob">Stateful</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The last event.</dd></dl>
</li>
</ul>
<a name="restoreLastJobStateEvent(org.oddjob.state.StateEvent.SerializableNoSource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreLastJobStateEvent</h4>
<pre>public&nbsp;void&nbsp;restoreLastJobStateEvent(<a href="../../../org/oddjob/state/StateEvent.SerializableNoSource.html" title="class in org.oddjob.state">StateEvent.SerializableNoSource</a>&nbsp;savedEvent)</pre>
<div class="block">Typically only called after restoring a jobstate handler after deserialisation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - </dd></dl>
</li>
</ul>
<a name="setState(org.oddjob.state.State,java.util.Date)">
<!--   -->
</a><a name="setState(S, java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setState</h4>
<pre>public&nbsp;void&nbsp;setState(<a href="../../../org/oddjob/state/StateHandler.html" title="type parameter in StateHandler">S</a>&nbsp;state,
            <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date)
              throws <a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></code></dd></dl>
</li>
</ul>
<a name="setState(org.oddjob.state.State)">
<!--   -->
</a><a name="setState(S)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setState</h4>
<pre>public&nbsp;void&nbsp;setState(<a href="../../../org/oddjob/state/StateHandler.html" title="type parameter in StateHandler">S</a>&nbsp;state)
              throws <a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></code></dd></dl>
</li>
</ul>
<a name="setStateException(org.oddjob.state.State,java.lang.Throwable,java.util.Date)">
<!--   -->
</a><a name="setStateException(S, java.lang.Throwable, java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStateException</h4>
<pre>public&nbsp;void&nbsp;setStateException(<a href="../../../org/oddjob/state/StateHandler.html" title="type parameter in StateHandler">S</a>&nbsp;state,
                     <a href="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t,
                     <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date)
                       throws <a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></code></dd></dl>
</li>
</ul>
<a name="setStateException(org.oddjob.state.State, java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStateException</h4>
<pre>public&nbsp;void&nbsp;setStateException(<a href="../../../org/oddjob/state/State.html" title="interface in org.oddjob.state">State</a>&nbsp;state,
                     <a href="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;ex)
                       throws <a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></code></dd></dl>
</li>
</ul>
<a name="getState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;<a href="../../../org/oddjob/state/State.html" title="interface in org.oddjob.state">State</a>&nbsp;getState()</pre>
<div class="block">Return the current state of the job.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current state.</dd></dl>
</li>
</ul>
<a name="assertAlive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertAlive</h4>
<pre>public&nbsp;void&nbsp;assertAlive()
                 throws <a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></pre>
<div class="block">Convenience method to check the job hasn't been destroyed.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></code> - If it has.</dd></dl>
</li>
</ul>
<a name="assertLockHeld()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assertLockHeld</h4>
<pre>public&nbsp;void&nbsp;assertLockHeld()</pre>
</li>
</ul>
<a name="tryToWhen(org.oddjob.state.StateCondition, java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryToWhen</h4>
<pre>public&nbsp;boolean&nbsp;tryToWhen(<a href="../../../org/oddjob/state/StateCondition.html" title="interface in org.oddjob.state">StateCondition</a>&nbsp;when,
                <a href="http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;runnable)
                  throws <a href="../../../org/oddjob/util/OddjobLockedException.html" title="class in org.oddjob.util">OddjobLockedException</a></pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../org/oddjob/state/StateLock.html#tryToWhen(org.oddjob.state.StateCondition, java.lang.Runnable)">StateLock</a></code></strong></div>
<div class="block">Try to acquire the lock, and then do something when the 
 condition is true. Both
 the condition evaluation and the performing of the action
 are done in the context of the same state lock. If the
 lock can not be acquired an <a href="../../../org/oddjob/util/OddjobLockedException.html" title="class in org.oddjob.util"><code>OddjobLockedException</code></a>
 is thrown.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/oddjob/state/StateLock.html#tryToWhen(org.oddjob.state.StateCondition, java.lang.Runnable)">tryToWhen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/oddjob/state/StateLock.html" title="interface in org.oddjob.state">StateLock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>when</code> - The condition.</dd><dd><code>runnable</code> - The action.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the condition
 was true and the action executed. False otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/oddjob/util/OddjobLockedException.html" title="class in org.oddjob.util">OddjobLockedException</a></code> - If the lock can not be acquired.</dd></dl>
</li>
</ul>
<a name="waitToWhen(org.oddjob.state.StateCondition, java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitToWhen</h4>
<pre>public&nbsp;boolean&nbsp;waitToWhen(<a href="../../../org/oddjob/state/StateCondition.html" title="interface in org.oddjob.state">StateCondition</a>&nbsp;when,
                 <a href="http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;runnable)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../org/oddjob/state/StateLock.html#waitToWhen(org.oddjob.state.StateCondition, java.lang.Runnable)">StateLock</a></code></strong></div>
<div class="block">Wait to do something when the condition is true. Both
 the condition evaluation and the performing of the action
 are done in the context of the same state lock. If the
 lock can not be acquired then the lock is waited for.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/oddjob/state/StateLock.html#waitToWhen(org.oddjob.state.StateCondition, java.lang.Runnable)">waitToWhen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/oddjob/state/StateLock.html" title="interface in org.oddjob.state">StateLock</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>when</code> - The condition.</dd><dd><code>runnable</code> - The action.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the condition was true and the action
 executed.</dd></dl>
</li>
</ul>
<a name="callLocked(java.util.concurrent.Callable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callLocked</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;callLocked(<a href="http://java.sun.com/javase/6/docs/api/java/util/concurrent/Callable.html?is-external=true" title="class or interface in java.util.concurrent">Callable</a>&lt;T&gt;&nbsp;callable)</pre>
<div class="block">Runs the Callable locked.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>callable</code> - The callable.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The result of the callable.</dd></dl>
</li>
</ul>
<a name="sleep(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sleep</h4>
<pre>public&nbsp;void&nbsp;sleep(long&nbsp;time)
           throws <a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Sleep.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>time</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="wake()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wake</h4>
<pre>public&nbsp;void&nbsp;wake()</pre>
<div class="block">Wake any threads that are sleeping via <a href="../../../org/oddjob/state/StateHandler.html#sleep(long)"><code>sleep(long)</code></a>.</div>
</li>
</ul>
<a name="addStateListener(org.oddjob.state.StateListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addStateListener</h4>
<pre>public&nbsp;void&nbsp;addStateListener(<a href="../../../org/oddjob/state/StateListener.html" title="interface in org.oddjob.state">StateListener</a>&nbsp;listener)
                      throws <a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></pre>
<div class="block">Add a job state listener. This method will send the last event
 to the new listener. It is possible that the listener may get the
 notification twice.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/oddjob/Stateful.html#addStateListener(org.oddjob.state.StateListener)">addStateListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/oddjob/Stateful.html" title="interface in org.oddjob">Stateful</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The listener.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/oddjob/framework/JobDestroyedException.html" title="class in org.oddjob.framework">JobDestroyedException</a></code></dd></dl>
</li>
</ul>
<a name="removeStateListener(org.oddjob.state.StateListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeStateListener</h4>
<pre>public&nbsp;void&nbsp;removeStateListener(<a href="../../../org/oddjob/state/StateListener.html" title="interface in org.oddjob.state">StateListener</a>&nbsp;listener)</pre>
<div class="block">Remove a job state listener.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/oddjob/Stateful.html#removeStateListener(org.oddjob.state.StateListener)">removeStateListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/oddjob/Stateful.html" title="interface in org.oddjob">Stateful</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The listener.</dd></dl>
</li>
</ul>
<a name="listenerCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listenerCount</h4>
<pre>public&nbsp;int&nbsp;listenerCount()</pre>
<div class="block">The number of listeners.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of listeners.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">Override toString.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="fireEvent()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fireEvent</h4>
<pre>public&nbsp;void&nbsp;fireEvent()</pre>
<div class="block">Fire the event, update last event.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - The event.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/oddjob/state/StateExchange.html" title="class in org.oddjob.state"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/oddjob/state/StateListener.html" title="interface in org.oddjob.state"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/oddjob/state/StateHandler.html" target="_top">Frames</a></li>
<li><a href="StateHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
